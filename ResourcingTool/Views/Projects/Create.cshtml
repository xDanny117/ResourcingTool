@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "PwC Research Resourcing Tool - Create New Request";
}

@Html.AntiForgeryToken()


<script>

</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.66.0-2013.10.09/jquery.blockUI.js">
</script>
<nav class="navbar navbar-expand navbar-dark bg-dark static-top">

    <a class="createNav navbar-brand mr-1" onclick="return confirm('By leaving this page without submitting, you will lose any data you have entered.')" href="/Projects/Index">< Back</a>

    <div class="createNav active navbar-brand mr-1">Create a Request</div>


    <!-- Navbar -->
    <ul class="navbar-nav ml-auto form-inline">

        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-user-circle fa-fw"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-right " style="text-align:right" aria-labelledby="userDropdown">
                <span class="dropdown-item" style="font-style:italic">Welcome, @User.Identity.Name</span>
                <a class="dropdown-item" onclick="return confirm('By leaving this page without submitting, you will lose any data you have entered.')" href="#">Activity Log</a>
                <a class="dropdown-item" onclick="return confirm('By leaving this page without submitting, you will lose any data you have entered.')" href="/Projects/ChangePassword">Change Password</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">Logout</a>
            </div>
        </li>
    </ul>

</nav>

<form action='Create' method="post" class='form'>



    <p class='field required'>
        <label class='label required' for='ProjectName'>Project Name</label>
        <input class='text-input' id='ProjectName' name='ProjectName' required type='text'>
    </p>

    <p class='field required half'>
        <label class='label' for='ProjectClient'>Client</label>
        <input class='text-input' id='ProjectClient' name='ProjectClient' required type='text'>
    </p>
    <p class='field required half'>
        <label class='label' for='ProjectLead'>Project Lead</label>
        <input class='text-input' id='ProjectLead' name='ProjectLead' required type='text'>
    </p>

    <div class='field required'>
        <label class='label'>Sector</label>
        <ul class='options'>
            <li class='option'>
                <input class='option-input' id='option-0' name='option' type='radio' value='PwC'>
                <label class='option-label' for='option-0'>PwC</label>
            </li>
            <li class='option'>
                <input class='option-input' id='option-1' name='option' type='radio' value='FS'>
                <label class='option-label' for='option-1'>FS</label>
            </li>
            <li class='option'>
                <input class='option-input' id='option-2' name='option' type='radio' value='C&BS'>
                <label class='option-label' for='option-2'>C&amp;BS</label>
            </li>
        </ul>
    </div>

    <input type="hidden" id="ProjectSector" name="ProjectSector" value="PwC" />

    <p class='field required'>
        <label class='label ' for='about'>Nature of Project (e.g. qual, quant, diagnostics, etc)</label>
        <textarea class='textarea' cols='50' id='ProjectNature' name='ProjectNature' required rows='2'></textarea>
    </p>

    <p class='field required'>
        <label class='label ' for='about'>Scope (no of interviews, groups, etc.)</label>
        <textarea class='textarea' cols='50' id='ProjectScope' name='ProjectScope' required rows='1'></textarea>
    </p>




    <p class='field required third'>
        <label class='label' for='phone'>Estimated Briefing</label>
        <input class='text-input' id='EstimatedBriefing' name='EstimatedBriefing' required type='date'>
    </p>
    <p class='field required third'>
        <label class='label' for='phone'>Fieldwork Start</label>
        <input class='text-input' id='FieldworkStart' name='FieldworkStart' required type='date'>
    </p>

    <p class='field required third'>
        <label class='label' for='phone'>Fieldwork End</label>
        <input class='text-input' id='FieldworkEnd' name='FieldworkEnd' required type='date'>
    </p>
    <p class='field required third'>
        <label class='label' for='phone'>Analysis/Reporting Start</label>
        <input class='text-input' id='AlysRepStart' name='AlysRepStart' required type='date'>
    </p>
    <p class='field required third'>
        <label class='label' for='phone'>Analysis/Reporting End</label>
        <input class='text-input' id='AlysRepEnd' name='AlysRepEnd' required type='date'>
    </p>
    <p class='field required third'>
        <label class='label' for='phone'>Estimated Debriefing</label>
        <input class='text-input' id='EstimatedBriefing' name='EstimatedDebriefing' required type='date'>
    </p>





    <p class='field required'>
        <label class='label' for='about'>Key Information (project detail, project history, broad resource requirement, key skills required, any key account personnel to consider, specific requests)</label>
        <textarea class='textarea' cols='50' id='KeyInformation' name='KeyInformation' required rows='5'></textarea>
    </p>


    <p class='field'>
        <label class='label' for='about'>Special Requirements (e.g. BPSS clearance)</label>
        <textarea class='textarea' cols='50' id='SpecialRequirements' name='SpecialRequirements' rows='2'></textarea>
    </p>




    <label class='label required' style="width: 100%;" for='phone'>Number of staff required per grade</label>
    <p class='field sept'>
        <label class='label labsmall' for='NumDirectorsRequired'>Directors</label>
        <input class='text-input' id='NumDirectorsRequired' name='NumDirectorsRequired' value="0" required type='number'>
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='NumSeniorManagersRequired'>Senior Managers</label>
        <input class='text-input' id='NumSeniorManagersRequired' name='NumSeniorManagersRequired' value="0" required type='number'>
    </p>

    <p class='field sept'>
        <label class='label labsmall' for='NumManagersRequired'>Managers</label>
        <input class='text-input' id='NumManagersRequired' name='NumManagersRequired' value="0" required type='number'>
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='NumSeniorAssociate2Required'>Senior Associate 2</label>
        <input class='text-input' id='NumSeniorAssociate2Required' name='NumSeniorAssociate2Required' value="0" required type='number'>
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='NumSeniorAssociate1Required'>Senior Associate 1</label>
        <input class='text-input' id='NumSeniorAssociate1Required' name='NumSeniorAssociate1Required' value="0" required type='number'>
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='NumAssociate2Required'>Associate 2</label>
        <input class='text-input' id='NumAssociate2Required' name='NumAssociate2Required' value="0" required type='number'>
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='NumAssociate1Required'>Associate 1</label>
        <input class='text-input' id='NumAssociate1Required' name='NumAssociate1Required' value="0" required type='number'>
    </p>






    <label class='label required' style="width: 100%;" for='phone'>Number of days staff required</label>
    <p class='field sept'>
        <label class='label labsmall' for='DaysDirectorsRequired'>Directors</label>
        <input class='text-input' id='DaysDirectorsRequired' name='DaysDirectorsRequired' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='DaysSeniorManagersRequired'>Senior Managers</label>
        <input class='text-input' id='DaysSeniorManagersRequired' name='DaysSeniorManagersRequired' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>

    <p class='field sept'>
        <label class='label labsmall' for='DaysManagersRequired'>Managers</label>
        <input class='text-input' id='DaysManagersRequired' name='DaysManagersRequired' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='DaysSeniorAssociate2Required'>Senior Associate 2</label>
        <input class='text-input' id='DaysSeniorAssociate2Required' name='DaysSeniorAssociate2Required' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='DaysSeniorAssociate1Required'>Senior Associate 1</label>
        <input class='text-input' id='DaysSeniorAssociate1Required' name='DaysSeniorAssociate1Required' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='DaysAssociate2Required'>Associate 2</label>
        <input class='text-input' id='DaysAssociate2Required' name='DaysAssociate2Required' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>
    <p class='field sept'>
        <label class='label labsmall' for='DaysAssociate1Required'>Associate 1</label>
        <input class='text-input' id='DaysAssociate1Required' name='DaysAssociate1Required' value="0" required pattern="^\d*(\.\d{0,1})?$">
    </p>
    @*<label class='label required' style="width: 100%;" for='phone'>Resource Requirement</label>
        <table>
            <thead>
                <tr>
                    <th class="label labsmall techtab">Grade</th>
                    <th class="label labsmall techtab"></th>
                    <th class="label labsmall techtab">D</th>
                    <th class="label labsmall techtab">SM</th>
                    <th class="label labsmall techtab">M</th>
                    <th class="label labsmall techtab">SA2</th>
                    <th class="label labsmall techtab">SA1</th>
                    <th class="label labsmall techtab">A2</th>
                    <th class="label labsmall techtab">A1</th>
                </tr>
            </thead>
            <tbody>
                <tr class="" id="2">

                    <td class="label labsmall techtab colIn">Num required at each grade</td>
                    <td class=""><input class='text-input' disabled style="opacity:0"></td>
                    <td class=""><input class='text-input' id='TotalD' name='TotalD' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalSM' name='TotalSM' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalM' name='TotalM' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalSA2' name='TotalSA2' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalSA1' name='TotalSA1' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalA2' name='TotalA2' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalA1' name='TotalA1' value="0" required type='number'></td>
                </tr>
                <tr class="" id="2">

                    <td class="label labsmall techtab colIn">Total days at each grade</td>
                    <td class=""><input class='text-input' disabled style="opacity:0"></td>
                    <td class=""><input class='text-input' id='TotalDaysD' name='TotalDaysD' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalDaysSM' name='TotalDaysSM' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalDaysM' name='TotalDaysM' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalDaysSA2' name='TotalDaysSA2' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalDaysSA1' name='TotalDaysSA1' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalDaysA2' name='TotalDaysA2' value="0" required type='number'></td>
                    <td class=""><input class='text-input' id='TotalDaysA1' name='TotalDaysA1' value="0" required type='number'></td>
                </tr>
            </tbody>
        </table>*@

    <label class='label required' style="width: 100%; margin-top:20px" for='phone'>Project Loading</label>
    <label class="label labsmall techtab colIn">
        Project loading: please express as days/%loading per week or month (e.g. 2 days a week or 40%, etc.).
        Refer to P&PC
    </label>
    <table>
        <thead>
            <tr>
                <th class="label labsmall techtab"></th>
                <th class="label labsmall techtab">D</th>
                <th class="label labsmall techtab">SM</th>
                <th class="label labsmall techtab">M</th>
                <th class="label labsmall techtab">SA2</th>
                <th class="label labsmall techtab">SA1</th>
                <th class="label labsmall techtab">A2</th>
                <th class="label labsmall techtab">A1</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 1; i <= 15; i++)
            {
                string dateString = "Date" + i;
                string DtrackingID = "DTime" + i;
                string SMtrackingID = "SMTime" + i;
                string MtrackingID = "MTime" + i;
                string SA2trackingID = "SA2Time" + i;
                string SA1trackingID = "SA1Time" + i;
                string A2trackingID = "A2Time" + i;
                string A1trackingID = "A1Time" + i;

                System.Diagnostics.Debug.WriteLine(dateString);
                System.Diagnostics.Debug.WriteLine(DtrackingID);
                System.Diagnostics.Debug.WriteLine(SMtrackingID);
                System.Diagnostics.Debug.WriteLine(MtrackingID);
                System.Diagnostics.Debug.WriteLine(SA2trackingID);
                System.Diagnostics.Debug.WriteLine(SA1trackingID);
                System.Diagnostics.Debug.WriteLine(A2trackingID);
                System.Diagnostics.Debug.WriteLine(A1trackingID);

                <tr class="" id="@i">

                    <td class=""><input class='text-input smallerText' id='@dateString' name='@dateString' placeholder="Week/Month" type='text'></td>
                    <td class=""><input class='text-input' id='@DtrackingID' name='@DtrackingID' value="0" type='text'></td>
                    <td class=""><input class='text-input' id='@SMtrackingID' name='@SMtrackingID' value="0" type='text'></td>
                    <td class=""><input class='text-input' id='@MtrackingID' name='@MtrackingID' value="0" type='text'></td>
                    <td class=""><input class='text-input' id='@SA2trackingID' name='@SA2trackingID' value="0" type='text'></td>
                    <td class=""><input class='text-input' id='@SA1trackingID' name='@SA1trackingID' value="0" type='text'></td>
                    <td class=""><input class='text-input' id='@A2trackingID' name='@A2trackingID' value="0" type='text'></td>
                    <td class=""><input class='text-input' id='@A1trackingID' name='@A1trackingID' value="0" type='text'></td>
                </tr>
            }


        </tbody>
    </table>
    <br /><br />
          <div class='field required'>
              <label class='label'>Do you require Tech?</label>
              <ul class='options'>
                  <li class='option'>
                      <input class='option-input' id='option-3' name='option' type='radio' value='true'>
                      <label class='option-label' for='option-3'>Yes</label>
                  </li>
                  <li class='option'>
                      <input class='option-input' id='option-4' name='option' type='radio' value='false'>
                      <label class='option-label' for='option-4'>No</label>
                  </li>
              </ul>
          </div>
    <input type="hidden" id="TechRequired" name="TechRequired" value="true" />
    <table id="techTable">
        <thead>
            <tr>
                <th class="label labsmall techtab"></th>
                <th class="label labsmall techtab">Start Date</th>
                <th class="label labsmall techtab">End Date</th>
                <th class="label labsmall techtab">M</th>
                <th class="label labsmall techtab">SA2</th>
                <th class="label labsmall techtab">SA1</th>
                <th class="label labsmall techtab">A2</th>
                <th class="label labsmall techtab">A1</th>
            </tr>
        </thead>
        <tbody>
            <tr class="" id="2">
                <td class="label labsmall techtab colIn">Data Capture</td>
                <td class=""><input class='text-input' id='DCStartDate' name='DCStartDate' type='date'></td>
                <td class=""><input class='text-input' id='DCEndDate' name='DCEndDate' type='date'></td>
                <td class=""><input class='text-input' id='DCTotalM' name='DCTotalM' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DCTotalSA2' name='DCTotalSA2' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DCTotalSA1' name='DCTotalSA1' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DCTotalA2' name='DCTotalA2' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DCTotalA1' name='DCTotalA1' value="0" pattern="^\d*(\.\d{0,1})?$"></td>
                <td></td>
            </tr>
            <tr class="" id="2">
                <td class="label labsmall techtab colIn">Data Analysis</td>
                <td class=""><input class='text-input' id='DAStartDate' name='DAStartDate' type='date'></td>
                <td class=""><input class='text-input' id='DAEndDate' name='DAEndDate' type='date'></td>
                <td class=""><input class='text-input' id='DATotalM' name='DATotalM' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DATotalSA2' name='DATotalSA2' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DATotalSA1' name='DATotalSA1' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DATotalA2' name='DATotalA2' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DATotalA1' name='DATotalA1' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td></td>
            </tr>
            <tr class="" id="2">
                <td class="label labsmall techtab colIn">Data Visualisation</td>
                <td class=""><input class='text-input' id='DVStartDate' name='DVStartDate' type='date'></td>
                <td class=""><input class='text-input' id='DVEndDate' name='DVEndDate' type='date'></td>
                <td class=""><input class='text-input' id='DVTotalM' name='DVTotalM' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DVTotalSA2' name='DVTotalSA2' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DVTotalSA1' name='DVTotalSA1' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DVTotalA2' name='DVTotalA2' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td class=""><input class='text-input' id='DVTotalA1' name='DVTotalA1' value="0" required pattern="^\d*(\.\d{0,1})?$"></td>
                <td></td>
            </tr>

        </tbody>
    </table>

    <p class='field required half'>
        <label class='label' for='phone'>Response Needed By</label>
        <input class='text-input' id='ResponseNeededBy' name='ResponseNeededBy' required type='date'>
    </p>

    <p class='field half'>
        <input class='button' type='submit' value='Send' onclick="$.blockUI({message:'Please wait...'})">
    </p>

    <input type='hidden' id='Status' name='Status' value="Needs Resourcing">


    <input type='hidden' id='DateSubmitted' name='DateSubmitted' value="@DateTime.Now">

    <input type='hidden' id='fk_UserName_Requester' name='fk_UserName_Requester' value="@User.Identity.GetUserName()">

    <input type="hidden" id="fk_UserId_Requester" name="fk_UserId_Requester" value="@User.Identity.GetUserId()" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        $("#option-0").trigger("click");
        $("#option-4").trigger("click");
    </script>

</form>

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                <a class="btn btn-primary" onclick="return confirm('By leaving this page without submitting, you will lose any data you have entered.')"  href="/Projects/Logout">Logout</a>
            </div>
        </div>
    </div>
</div>
